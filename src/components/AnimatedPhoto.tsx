'use client';
import React, { useEffect, useRef } from 'react';

export const AnimatedPhoto: React.FC = () => {
  const headRef = useRef<SVGGElement | null>(null);
  const leftEyelidRef = useRef<SVGPathElement | null>(null);
  const rightBrownRef = useRef<SVGPathElement | null>(null);
  const leftBrownRef = useRef<SVGPathElement | null>(null);
  const rightEyeRef = useRef<SVGEllipseElement | null>(null);
  const leftEyeRef = useRef<SVGEllipseElement | null>(null);
  const neckLineRef = useRef<SVGPathElement | null>(null);

  useEffect(() => {
    const eyes = [leftEyeRef, rightEyeRef];
    const brows = [leftBrownRef, rightBrownRef];

    const fastMouseOpacityToggleCleanup = setupFastMouseOpacityToggle(leftEyelidRef, leftEyeRef);
    const movePartsCleanup = setupMoveParts(brows, eyes, headRef, neckLineRef);

    return () => {
      fastMouseOpacityToggleCleanup();
      movePartsCleanup();
    };
  }, []);

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 196.956 274.541"
      width="100%"
      height="100%"
      style={{ fill: 'var(--foreground)' }}
    >
      <path
        className="animated-photo-neck"
        d="m 118.21846,79.570273 c -0.67207,-0.06991 -1.62395,-0.188108 -2.31445,-0.111328 -0.12123,1.532996 -0.14844,3.860718 -0.14844,7.382813 0,10.1 0.89883,13.498822 4.29883,15.798822 0.5,0.40001 0.70078,2.30079 0.30078,4.30079 -1,5 -12.60039,16.49961 -20.900394,20.59961 -5.9,2.9 -16.199219,5.6 -15.199219,4 0.3,-0.4 -1.00039,-1.1004 -2.90039,-1.4004 -3.8,-0.69999 -7.999219,-3.69921 -9.699219,-6.69921 -0.713931,-1.42787 -3.180011,-14.0066 -3.773438,-18.97071 -0.01476,-0.009 -0.02309,-0.0149 -0.02734,-0.0195 l -0.002,-0.002 -0.002,-0.002 v -0.002 -0.002 h 0.002 l 0.002,-0.002 h 0.002 c 0.0048,-6.4e-4 0.01396,-0.002 0.02148,-0.002 -0.0046,-0.0386 -0.0093,-0.0756 -0.01367,-0.11328 -0.01625,0.004 -0.03297,0.008 -0.04687,0.004 -9.67e-4,-3.8e-4 -0.0049,-0.001 -0.0059,-0.002 -0.133967,-0.067 -0.214746,-0.25644 -0.339844,-0.33984 -0.186677,-0.12445 -0.379729,-0.21539 -0.566406,-0.33984 -0.07327,-0.0488 -0.102501,-0.0767 -0.111328,-0.0957 -3.75e-4,-10e-4 -0.0017,-0.005 -0.002,-0.006 -1.71e-4,-9.4e-4 8.2e-5,-0.005 0,-0.006 v -0.002 c 0.0028,-0.0347 0.05886,-0.0603 -0.113281,-0.23242 -0.0201,-0.0201 -0.04076,-0.0384 -0.0625,-0.0566 0.222853,0.74649 0.375156,1.53021 0.539062,2.49023 l 0.699219,3.80079 -6.5,2.90039 c -3.5,1.7 -9.19961,3.9 -12.59961,5 -6.3,2.1 -18.499609,8.90039 -17.599609,9.90039 0.3,0.2 1.198438,-0.002 1.898438,-0.60157 0.799999,-0.7 1.701953,-0.9 2.001953,-0.5 0.4,0.3 0.699218,0.20157 0.699218,-0.39843 0,-1.2 8.900782,-5.80078 13.300782,-6.80078 1.5,-0.4 2.998828,-1.09961 3.298828,-1.59961 0.3,-0.5 1.199609,-0.90039 2.099609,-0.90039 0.8,0 2.901563,-0.60039 4.601563,-1.4004 5.5,-2.4 7.799609,-2.59882 7.599609,-0.79882 -0.1,0.9 -3.91e-4,1.99843 0.09961,2.39843 0.1,0.5 0.3,1.1 0.5,1.5 0.4,1.7 2.498828,6.90079 3.298829,8.30079 0.5,0.8 2.799609,2.8 5.099609,4.5 3.7,2.6 5.102344,3.00039 10.402344,2.90039 7.3,0 8.8,-0.40079 15.500005,-3.80079 6.2,-3.2 18.79922,-15.09882 19.69922,-18.79882 0.7,-2.8 3.70078,-4.20157 5.30078,-2.60157 0.6,0.6 1.19961,0.6 1.59961,0 0.3,-0.5 -0.70117,-1.4996 -2.20117,-2.09961 -1.5,-0.7 -4,-3.09882 -5.5,-5.29882 -2.4,-3.800002 -2.69922,-5.100002 -2.69922,-13.500002 0,-4.577453 0.11497,-7.050936 0.46289,-8.271485 z"
      />
      <path
        ref={neckLineRef}
        className="animated-photo-neck-line"
        d="m 76.255708,121.53996 c 0.4,0.6 1,0.8 1.4,0.5 0.5,-0.2 1.6,0.4 2.6,1.5 1,1.1 2.5,2 3.4,2 0.9,0 -0.1,-1.1 -2.1,-2.5 -3.8,-2.6 -6.4,-3.3 -5.3,-1.5 z"
      />
      <g
        ref={headRef}
        style={{
          transformOrigin: ' center center',
        }}
        className="animated-photo-head"
      >
        <ellipse
          ref={leftEyeRef}
          className="photo-eye photo-left-eye"
          cx={67.161713}
          cy={55.94696}
          rx={0.92799997}
          ry={0.79500002}
        />
        <ellipse
          ref={rightEyeRef}
          className="photo-eye photo-right-eye"
          cx={93.651711}
          cy={55.394962}
          rx={0.92799997}
          ry={0.79500002}
        />
        <path
          ref={leftEyelidRef}
          className="photo-eyelid photo-left-eyelid"
          style={{ opacity: 0 }}
          d="m 60.677708,56.201961 c 1.125,1.456 13.125,0.466 13.125,0.466 l -0.261,-3.19 -10.96,1.126"
        />
        <path d="m 77.736036,17.29293 c -1.071875,-0.04785 -2.755469,0.334765 -3.980469,0.947265 -1.4,0.7 -2.000781,1.300782 -1.300781,1.300782 0.6,0 1.7,0.2 2.5,0.5 0.7,0.3 2.201172,-0.100782 3.201172,-0.800782 1.8,-1.4 1.8,-1.398437 0,-1.898437 -0.125,-0.025 -0.266797,-0.04199 -0.419922,-0.04883 z" />
        <path d="m 56.165724,16.650352 c -0.205445,0.01305 -0.546875,0.386718 -1.109375,1.089843 -0.6,0.7 -1.301172,2.201172 -1.701172,3.201172 -0.6,1.9 -0.598828,1.898828 1.201172,0.298828 1,-0.9 1.898437,-2.399218 1.898437,-3.199218 0,-0.95625 -0.05622,-1.405411 -0.289062,-1.390625 z" />
        <path d="m 110.90791,9.9550389 c -0.0981,0.00382 -0.15218,0.063901 -0.15234,0.1855471 8.7e-4,0.500728 1.50094,2.499352 3.40039,4.298828 1.8,1.801 3.89961,5.102344 4.59961,7.402344 1.6,4.8 1.4,4.3 2.5,8 0.5,2 0.99961,2.499609 1.59961,1.599609 0.4,-0.7 0.50117,-1.701172 0.20117,-2.201172 -0.3,-0.4 -0.7,-2.3 -1,-4 -0.3,-1.8 -1.00156,-3.799609 -1.60156,-4.599609 -0.6,-0.7 -1.19844,-2.000391 -1.39844,-2.900391 -0.1,-0.9 -0.80039,-1.899609 -1.40039,-2.099609 -0.7,-0.2 -2.49961,-1.8 -4.09961,-3.5 -1.19494,-1.354264 -2.26345,-2.2005474 -2.64844,-2.1855471 z" />
        <path d="m 110.90791,9.9550389 c 0.38499,-0.015 1.4535,0.8312831 2.64844,2.1855471 1.6,1.7 3.39961,3.3 4.09961,3.5 0.6,0.2 1.30039,1.199609 1.40039,2.099609 0.2,0.9 0.79844,2.200391 1.39844,2.900391 0.6,0.8 1.30156,2.799609 1.60156,4.599609 0.3,1.7 0.7,3.6 1,4 0.3,0.5 0.19883,1.501172 -0.20117,2.201172 -0.6,0.9 -1.09961,0.400391 -1.59961,-1.599609 -1.1,-3.7 -0.9,-3.2 -2.5,-8 -0.7,-2.3 -2.79961,-5.601344 -4.59961,-7.402344 -1.89945,-1.799476 -3.39952,-3.7981 -3.40039,-4.298828 1.6e-4,-0.121646 0.0542,-0.1817235 0.15234,-0.1855471 z" />
        <path d="m 104.10518,6.3554295 c -0.22339,0.00745 -0.34961,0.097656 -0.34961,0.2851563 0,0.9 4.89961,3.3011719 5.59961,2.7011719 0.1,-0.2 -1.09922,-1.1 -2.69922,-2 -1.1,-0.61875 -2.05933,-1.00271 -2.55078,-0.9863282 z" />
        <path d="m 104.10518,6.3554295 c 0.49145,-0.016382 1.45078,0.3675782 2.55078,0.9863282 1.6,0.9 2.79922,1.8 2.69922,2 -0.7,0.6 -5.59961,-1.8011719 -5.59961,-2.7011719 0,-0.1875 0.12622,-0.27771 0.34961,-0.2851563 z" />
        <path d="m 87.38252,5.7089452 c -0.529174,-0.00281 -1.564453,0.15625 -3.126953,0.53125 -1.1,0.3 -2.40039,0.9003906 -2.90039,1.4003906 -0.5,0.501 0.50039,0.4003906 2.40039,-0.099609 3.50625,-1.03125 4.791138,-1.8258545 3.626953,-1.8320316 z" />
        <path d="m 72.155958,3.6405858 c -1.1,0 -2.400781,0.1996094 -2.800781,0.5996094 -0.4,0.5 -1.100391,0.7988281 -1.400391,0.7988281 -1.3,0.1 -8.198828,3.7015625 -8.798828,4.6015625 -0.8,1.4000002 0.299609,1.0984382 4.599609,-1.1015625 2.2,-1.099 4.6,-1.9980469 5.5,-1.9980469 0.9,0 1.4,-0.4003906 1,-0.9003906 -0.3,-0.5 0.499219,-1.2003906 1.699219,-1.4003906 1.033594,-0.196875 1.559613,-0.2984317 1.599609,-0.3730469 0,0 0.002,-0.00195 0.002,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 -0.002,-0.00195 -0.002,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 -0.002,-0.00195 -0.002,-0.00195 -0.04879,-0.06599 -0.520656,-0.116825 -1.396437,-0.2090125 z" />
        <path d="m 93.941114,1.581992 c -0.02164,0.00254 -0.0382,0.010856 -0.04687,0.019531 0,0 -0.002,0.00195 -0.002,0.00195 0,0 0,0.00195 0,0.00195 0,0 -0.002,0.00195 -0.002,0.00195 0,0 0,0.00195 0,0.00195 -2.92e-4,7.801e-4 -0.0017,0.00505 -0.002,0.00586 0,0 0,0.00195 0,0.00195 -0.01167,0.1070375 0.461719,0.4558594 1.367187,1.1230469 1.1,0.8 3.300782,1.9015625 4.800779,2.6015625 2.5,1.1 2.8,1 2.5,-0.5 -0.2,-0.9 -1.20078,-1.7003907 -2.30078,-1.9003906 -1.099999,-0.1 -3.099999,-0.5003907 -4.499999,-0.9003907 -1.05,-0.30625 -1.641333,-0.4793213 -1.814453,-0.4589844 z" />
        <path d="m 93.941114,1.581992 c 0.17312,-0.020337 0.764453,0.1527344 1.814453,0.4589844 1.4,0.4 3.4,0.8003907 4.500003,0.9003907 1.1,0.1999999 2.10078,1.0003906 2.30078,1.9003906 0.3,1.5 0,1.6 -2.5,0.5 -1.500001,-0.7 -3.700783,-1.8015625 -4.800783,-2.6015625 -0.905468,-0.6671875 -1.37886,-1.0160094 -1.367187,-1.1230469 0,0 0,-0.00195 0,-0.00195 2.26e-4,-8.125e-4 0.0017,-0.00508 0.002,-0.00586 0,0 0,-0.00195 0,-0.00195 0,0 0.002,-0.00195 0.002,-0.00195 0,0 0,-0.00195 0,-0.00195 0,0 0.002,-0.00195 0.002,-0.00195 0.0087,-0.00868 0.02523,-0.016989 0.04687,-0.019531 z" />
        <path d="m 77.454786,0.54097642 c -1.4,0 -2.799609,0.40078125 -3.099609,0.80078128 -0.6,1 4,0.9984375 5,-0.1015625 0.4,-0.40000003 -0.400391,-0.69921877 -1.900391,-0.69921878 z" />
        <path d="m 84.493849,0.00386705 c -0.707032,0.02929688 -1.550782,0.22460937 -2.238282,0.53710937 -1.7,0.69999998 -1.6,0.89960938 1,1.09960938 1.7,0.1 4.000782,0.3003906 5.300782,0.4003906 1.2,0.1 2.498828,-0.1996094 2.798828,-0.5996094 0.3,-0.49999995 -0.6,-0.90039057 -2,-0.90039058 -1.3,0 -2.998828,-0.20039062 -3.798828,-0.40039062 -0.2625,-0.1125 -0.638282,-0.15429688 -1.0625,-0.13671875 z" />
        <path
          d="m 67.283708,47.318961 c -0.684,0.015 -1.328,0.147 -1.828,0.422 -1,0.5 -2.6,0.8 -3.5,0.6 -1,-0.1 -2.9,0.8 -4.2,2 l -2.238,1.8 c -0.078,0.13 -0.147,0.256 -0.249,0.432 -0.19,0.353 -0.354,0.717 -0.495,1.091 0.979,0.053 2.262,-0.063 2.981,-0.423 4.7,-1.7 8.6,-2.7 11.1,-2.7 1.6,0 2.901,-0.5 2.901,-1 0,-1.275 -2.419,-2.27 -4.472,-2.222 z"
          className="photo-brown photo-left-brown"
          ref={leftBrownRef}
        />
        <path d="m 67.878614,104.43941 c -0.0075,-1.5e-4 -0.01673,0.001 -0.02148,0.002 h -0.002 l -0.002,0.002 h -0.002 v 0.002 0.002 l 0.002,0.002 0.002,0.002 c 0.0043,0.005 0.01259,0.0105 0.02734,0.0195 -0.0012,-0.0104 -0.0027,-0.0209 -0.0039,-0.0312 z" />
        <path d="m 62.839552,20.710899 a 16.63,16.63 0 0 0 -1.183594,0.0293 c -1.6,0.1 -2.501172,0.700391 -2.201172,1.400391 0.5,1.5 -6.699609,7.500781 -8.099609,6.800781 -0.164688,-0.08234 -0.264677,-0.108316 -0.298828,-0.0918 l -0.0039,0.0039 -0.002,0.002 v 0.002 h -0.002 v 0.002 c -0.02295,0.08449 0.332578,0.441844 1.00586,0.980469 1.6,1.3 1.701562,1.90039 0.601562,3.90039 -0.7,1.3 -1.199609,2.6 -1.099609,3 0.2,0.8 1.199218,8.300782 1.699218,12.300782 0.1,1.1 -0.900781,3.1 -2.300781,4.5 -2.3,2.3 -2.4,3 -2,10.5 0.2,4.4 0.901563,8.9 1.601563,10 0.6,1.1 1.799218,4.400781 2.699218,7.300781 0.9,2.9 3.69961,7.8 6.09961,11 5.054601,6.433129 6.532823,8.466607 7.261719,10.908197 0.02174,0.0183 0.0424,0.0365 0.0625,0.0566 0.172141,0.17214 0.11604,0.19772 0.113281,0.23242 v 0.002 c 8.2e-5,9.1e-4 -1.71e-4,0.005 0,0.006 2.68e-4,9.7e-4 0.0016,0.005 0.002,0.006 0.0088,0.019 0.03806,0.0469 0.111328,0.0957 0.186677,0.12445 0.379729,0.21539 0.566406,0.33984 0.125098,0.0834 0.205877,0.27287 0.339844,0.33984 9.39e-4,4.7e-4 0.0049,0.002 0.0059,0.002 0.01391,0.004 0.03062,3.8e-4 0.04687,-0.004 -0.06151,-0.53231 -0.0995,-0.9692 -0.109375,-1.28515 0,-0.5 1.3,0.6996 3,2.5996 3.9,4.90001 10.400391,6.8 16.900391,5 2.5,-0.7 5.299219,-1.89921 6.199219,-2.69921 0.8,-0.8 2.101172,-1.40039 2.701172,-1.40039 0.6,0 1.599218,-0.9 2.199218,-2 0.6,-1.1 1.700007,-2 2.500007,-2 0.8,0 1.5,-0.69961 1.5,-1.59961 0,-0.8 0.40039,-1.299998 0.90039,-0.999998 1.3,0.899998 8.69922,-10.40039 10.19922,-15.40039 0.6,-2.5 1.30039,-9.799219 1.40039,-16.199219 0.2,-10.8 0.39961,-11.900781 2.59961,-14.300781 1.532,-1.575 3.04415,-2.347079 4.41015,-2.330078 h 0.002 c 1.758,0.02 3.27706,1.341687 4.28906,3.929687 1,2.8 1.09883,4.499609 0.29883,7.599609 -1.5,5.5 -6.89922,13.300782 -9.19922,13.300782 -1.06973,0 -1.54619,0.316079 -1.75195,2.917968 0.6905,-0.07678 1.64238,0.04142 2.31445,0.111328 0.21454,-0.752614 0.51793,-1.029296 0.9375,-1.029296 2.5,0 7.19961,-6.800391 9.09961,-12.900391 1.4,-4.8 1.49961,-6.498828 0.59961,-9.298828 -1.6,-4.9 -5.49961,-8.200781 -8.09961,-6.800781 -1.1,0.6 -2,0.8 -2,0.5 0,-0.3 -0.99961,-0.100391 -2.09961,0.599609 -2,1 -2.09961,0.9 -1.59961,-1 0.4,-1.5 -0.20039,-2.999609 -1.90039,-4.599609 -3.1,-3.1 -4.10156,-3.199219 -2.10156,-0.199219 1.9,2.9 3.10039,20.498437 1.90039,26.898437 -0.5,2.7 -0.59922,4.800782 -0.19922,4.800782 0.4,0 0.6,1.199218 0.5,2.699218 -0.5,6.8 -0.4,6.600782 -2,5.300782 -0.9,-0.8 -1.5,-0.799219 -1.5,-0.199219 0,0.6 0.59922,1.198437 1.19922,1.398437 0.9,0.3 0.8,1.201172 -0.5,3.201172 -1,1.5 -2.29844,2.4 -2.89844,2 -0.7,-0.4 -0.80039,-0.299609 -0.40039,0.400391 0.3,0.6 -0.30039,1.599219 -1.40039,2.199219 -1.1,0.6 -1.8,1.50039 -1.5,1.90039 0.2,0.5 -1.50039,2.5 -3.90039,4.5 -4.400007,3.499998 -6.300398,3.599998 -4.900398,0 0.4,-1.2 0.300391,-1.5 -0.599609,-1 -0.7,0.4 -1.100391,1.500388 -0.900391,2.400388 0.2,1 -0.799219,2.7 -2.199219,4 -2.1,1.9 -3.500781,2.19961 -8.800781,2.09961 -3.4,-0.1 -6.498828,-0.59961 -6.798828,-1.09961 -0.3,-0.4 -0.900391,-0.60078 -1.400391,-0.30078 -0.4,0.3 -1.899609,-0.69961 -3.099609,-2.09961 -1.3,-1.4 -3.201562,-3.30118 -4.101562,-4.20117 -1.200001,-1.1 -1.399219,-1.898828 -0.699219,-2.798828 0.7,-0.8 0.70039,-1.40039 -0.09961,-1.90039 -0.6,-0.3 -0.80039,-1.09961 -0.40039,-1.59961 0.3,-0.5 0.09961,-0.801172 -0.400391,-0.701172 -1.1,0.3 -5.199219,-4 -5.199219,-5.5 0,-0.6 -0.299609,-0.698437 -0.599609,-0.398437 -0.8,0.8 2.200391,5.698828 4.900391,7.798828 1.3,1 1.598437,1.900781 0.898437,2.300781 -1.6,1 -8.998828,-8.801172 -10.298828,-13.701172 -0.6,-2.3 -2,-6.8 -3,-10 -2.936,-8.904 -2.195922,-18.971937 1.205078,-19.585937 a 10,10 0 0 1 0.660156,-1.511719 c 0.194,-0.335 0.285907,-0.507219 0.503907,-0.824219 l 0.0625,-0.08984 -0.53125,-6.388672 c -0.4,-4.3 -0.501172,-9.2 -0.201172,-11 0.6,-4 4.9,-9.300781 7.5,-9.300782 1,0 1.90039,-0.498046 1.90039,-0.998046 0,-0.6 -0.599218,-1 -1.199218,-1 -0.9,0 -0.800782,-0.4 0.199218,-1 0.9,-0.6 0.955985,-0.806078 0.08398,-0.830078 z" />
        <path d="m 122.25571,34.739961 c -0.3,0.7 -0.7,2.4 -0.9,3.8 -0.2,1.4 -0.8,2.4 -1.2,2.3 -0.5,-0.1 -0.9,1.6 -0.9,3.6 -0.1,2.4 0.4,3.8 1.2,3.8 0.7,0 1.4,-0.5 1.5,-1.1 0,-0.6 0.2,-2.2 0.4,-3.6 0.2,-1.4 0.5,-4.2 0.8,-6.3 0.4,-3.6 0,-4.9 -0.9,-2.5 z" />
        <path d="m 110.15571,28.839961 c -0.1,1.3 0.7,2.9 1.7,3.5 2.3,1.5 2.4,1 0.4,-2.8 -1.9,-3.6 -2,-3.6 -2.1,-0.7 z" />
        <path d="m 79.555708,23.740961 c -1,1 -1.8,2.3 -1.8,2.9 0,0.6 0.7,0.3 1.6,-0.5 0.8,-0.9 2,-1.4 2.5,-1.1 1.1,0.7 1.2,-0.6 0.1,-2.1 -0.4,-0.6 -1.3,-0.4 -2.4,0.8 z" />
        <path d="m 96.355708,21.339961 c -0.3,0.5 -2.2,0.7 -4.3,0.5 -4.9,-0.4 -8.3,0.4 -8.3,2 0,1.5 6.2,1.9 7.2,0.4 0.4,-0.7 1.1,-0.7 2.2,0.2 1.2,1 1.6,1 1.6,0.2 0,-0.7 0.5,-0.9 1.2,-0.5 0.6,0.4 0.8,0.3 0.4,-0.4 -0.3,-0.6 -0.2,-1.3 0.3,-1.6 0.5,-0.3 1.1,0.3 1.4,1.4 0.3,1.1 0.9,2 1.4,1.9 2.300002,-0.4 3.300002,0.3 3.400002,2.3 0.1,1.7 0.2,1.9 0.6,0.5 0.2,-0.9 1.1,-1.7 1.9,-1.7 1.9,0 1.8,-2.6 -0.2,-3.4 -0.9,-0.3 -2.7,-0.6 -4,-0.6 -1.300002,0 -2.400002,-0.5 -2.400002,-1 0,-1.2 -1.7,-1.3 -2.4,-0.2 z" />
        <path d="m 70.155708,21.639961 c -0.3,0.6 -1.7,0.9 -3,0.6 -1.3,-0.199 -2.4,-0.099 -2.4,0.301 0,1.2 3.1,2.1 5.1,1.5 1.1,-0.4 1.9,-0.2 1.9,0.4 0,0.6 1.2,1.1 2.8,1 1.5,0 2.1,-0.3 1.4,-0.6 -0.6,-0.2 -0.9,-0.9 -0.6,-1.5 0.7,-1.1 -1.3,-2.8 -3.3,-2.8 -0.6,0 -1.5,0.5 -1.9,1.1 z" />
        <path d="m 116.75571,59.839961 c 0,0.4 0.7,1.9 1.6,3.2 0.9,1.401 1.3,3.201 1,4.101 -0.4,1 -0.1,1.4 0.6,1.2 2.3,-0.8 2,-3.5 -0.6,-6.4 -1.4,-1.6 -2.6,-2.5 -2.6,-2.1 z" />
        <path
          d="m 82.455708,48.239961 c -0.4,0.3 -0.7,1.2 -0.7,1.8 0,0.8 2.3,1 7.8,0.8 5,-0.3 9.3,0.1 12.400002,1 4.5,1.4 4.7,1.4 3.8,-0.3 -0.5,-1 -2.5,-2.3 -4.2,-2.8 -3.800002,-1.2 -18.100002,-1.6 -19.100002,-0.5 z"
          className="photo-brown photo-right-brown"
          ref={rightBrownRef}
        />
        <path d="m 76.755708,66.539961 c 0,1 0.8,1.2 6,1.4 3.3,0.101 4.1,3.601 0.9,3.601 -1.2,0 -3.8,0.5 -5.6,1.2 -2.7,1 -3.8,1 -5.4,-0.1 -1.2,-0.7 -2.4,-0.9 -2.7,-0.5 -0.4,0.4 -0.1,0.9 0.6,1.1 0.6,0.3 1.2,1.1 1.2,1.9 0,0.7 -0.6,1.1 -1.4,0.8 -0.7,-0.3 -1.6,0.2 -2,1.1 -0.3,0.9 -1.4,1.5 -2.3,1.3 -1,-0.2 -1.7,0.2 -1.5,0.9 0.1,0.7 -0.2,1.3 -0.8,1.3 -0.5,0 -1,0.5 -1,1.1 0,0.6 0.7,0.9 1.5,0.5 0.8,-0.3 1.5,-0.1 1.5,0.4 0,0.5 0.6,0.7 1.4,0.4 0.7,-0.3 2.1,0.6 3,2.1 1.6,2.4 2,2.5 9.2,2.1 5.3,-0.4 8.3,-1.1 10.3,-2.6 1.6,-1.1 3.4,-2 4,-2 1,0 1.5,-2.8 0.9,-4.8 -0.2,-0.4 -1.4,-0.8 -2.8,-0.9 -1.4,0 -3.6,-0.4 -5,-0.7 -2.2,-0.5 -2.1,-0.5 0.3,0.5 1.5,0.6 2.7,1.5 2.7,2 0,0.6 0.4,0.8 0.9,0.4 0.5,-0.3 1.2,-0.1 1.6,0.4 0.3,0.6 -4.1,1.1 -11.2,1.3 -13.8,0.4 -14.8,0.2 -12.8,-1.9 0.8,-0.8 1.9,-1.2 2.4,-0.9 0.5,0.3 1.2,-0.1 1.5,-0.9 0.3,-0.8 0.9,-1.4 1.3,-1.4 0.9,0.2 4,-0.8 6.6,-2.2 1,-0.5 2.2,-0.7 2.7,-0.4 0.5,0.3 2.1,-0.1 3.4,-1 2.2,-1.4 2.3,-1.9 1.3,-3.6 -0.9,-1.5 -2,-1.9 -4,-1.6 -1.5,0.2 -3,0 -3.3,-0.5 -0.7,-1.1 -3.4,-1 -3.4,0.2 z m 14,16.1 c 0,1.601 -12.5,3.201 -16.4,2.101 -5.9,-1.7 -3.5,-2.7 6.4,-2.8 5.5,0 10,0.3 10,0.7 z" />
        <path d="m 89.225708,52.492961 c -1.45,0.047 -2.532,0.313 -2.87,0.848 -1,1.6 1.1,2.4 3.3,1.2 1.173,-0.587 2.25,-0.911 2.964,-0.948 a 0.14,0.14 0 0 1 0.059,-0.015 h 0.029 c 0.072,0.006 0.143,0.008 0.215,0.01 0.045,0.002 0.09,0.004 0.133,0.008 l 0.043,-0.01 a 0.589,0.589 0 0 1 0.132,-0.008 c 0.049,10e-4 0.098,0.002 0.146,0.006 0.041,0.004 0.082,0.009 0.122,0.016 a 0.951,0.951 0 0 1 0.152,0.026 c 0.046,0.014 0.092,0.029 0.138,0.041 l 0.167,0.053 c 0.062,0.019 0.121,0.04 0.182,0.062 l 0.15,0.05 c 0.046,0.018 0.092,0.034 0.137,0.054 0.051,0.022 0.1,0.047 0.15,0.073 0.036,0.02 0.072,0.042 0.109,0.061 0.04,0.022 0.083,0.04 0.123,0.062 0.054,0.027 0.106,0.059 0.157,0.092 0.056,0.035 0.115,0.068 0.165,0.112 l 0.018,0.013 c 0.395,0.127 0.782,0.275 1.172,0.417 0.64,0.223 1.272,0.464 1.903,0.71 0.765,0.311 1.547,0.59 2.290002,0.953 0.174,0.085 0.342,0.179 0.513,0.268 0.17,0.091 0.336,0.187 0.5,0.288 0.38,0.109 0.7,0.214 0.931,0.307 1,0.3 0.5,-0.401 -1.1,-1.701 -2.000002,-1.625 -6.890002,-2.82 -10.570002,-3.025 -0.552,-0.03 -1.076,-0.04 -1.56,-0.023 z" />
        <path d="m 71.127708,52.821961 c -1.349,0.041 -3.29,0.387 -6.072,0.919 -3.5,0.6 -5.3,1.4 -5.3,2.4 0,0.8 -0.501,1.4 -1.201,1.4 -0.6,0 -0.9,0.3 -0.6,0.6 0.29,0.217 1.155,0.068 2.217,-0.334 0.112,-0.166 0.287,-0.325 0.533,-0.457 0.05,-0.082 0.101,-0.164 0.154,-0.245 0.173,-0.233 0.353,-0.46 0.554,-0.67 0.185,-0.196 0.388,-0.371 0.6,-0.537 a 4.25,4.25 0 0 1 0.592,-0.394 c 0.189,-0.107 0.383,-0.205 0.577,-0.301 0.255,-0.125 0.508,-0.254 0.78,-0.339 0.313,-0.101 0.636,-0.178 0.96,-0.24 0.363,-0.061 0.729,-0.098 1.095,-0.14 0.442,-0.045 0.884,-0.1 1.327,-0.138 0.466,-0.04 0.933,-0.084 1.399,-0.125 0.361,-0.03 0.719,-0.081 1.074,-0.155 0.344,-0.065 0.691,-0.113 1.04,-0.147 0.176,-0.01 0.353,-0.015 0.53,-0.01 l 0.094,0.005 a 0.993,0.993 0 0 1 0.145,-0.014 0.805,0.805 0 0 1 0.367,0.08 c 0.478,0.105 0.78,0.322 0.925,0.566 1.209,0.212 0.311,6.725 -1.263,8.595 -0.5,0.6 -0.7,1.3 -0.4,1.6 0.3,0.2 -0.6,1.1 -2,1.8 -0.334,0.184 -0.74,0.542 -1.183,1.022 -0.02,0.03 -0.039,0.059 -0.057,0.09 -0.027,0.044 -0.052,0.09 -0.078,0.137 -0.123,0.25 -0.217,0.52 -0.203,0.803 0.011,0.225 0.049,0.284 0.121,0.5 0.05,0.082 0.092,0.17 0.147,0.248 0.099,0.142 0.216,0.267 0.343,0.383 0.431,-0.634 1.053,-1.063 1.61,-0.983 1.9,0.4 3.901,-4.7 4.101,-10.5 0.137,-4.125 0.039,-5.51 -2.928,-5.419 z" />
        <path d="m 72.555708,98.740961 c 0.9,0.9 1.5,0.9 2.4,0 0.9,-0.9 0.7,-1.2 -1.2,-1.2 -1.9,0 -2.1,0.3 -1.2,1.2 z" />
        <path d="m 85.255708,97.840961 c -1.6,1.3 -1.5,1.4 1.4,0.9 1.7,-0.2 3.4,-0.8 3.7,-1.3 0.8,-1.4 -3,-1 -5.1,0.4 z" />
        <path d="m 86.655708,88.940961 c -0.2,0.2 -3.3,0.7 -6.9,1.1 -6.4,0.7 -9.3,1.5 -5.4,1.5 1.1,0 2.6,0.6 3.2,1.2 1,1 1.7,1 3.2,0 1.1,-0.6 2.6,-1.2 3.4,-1.2 0.7,0 1.9,-0.7 2.6,-1.5 1.1,-1.3 1,-2.2 -0.1,-1.1 z" />
        <path d="m 101.75571,84.539961 c 0,1.6 -0.3,3 -0.7,3 -1,0 -3.200002,4.7 -2.600002,5.4 0.8,0.801 3.300002,-0.499 2.800002,-1.399 -0.3,-0.5 0.1,-1.5 0.9,-2.2 1.4,-1.4 1.7,-7.8 0.4,-7.8 -0.5,0 -0.8,1.3 -0.8,3 z" />
        <path d="m 78.755708,77.539961 c 0,0.5 -0.8,0.7 -1.7,0.3 -1.5,-0.5 -1.6,-0.3 -0.5,0.8 1,1.1 1.5,1 2.9,-0.4 1.1,-1.1 1.3,-1.7 0.5,-1.7 -0.7,0 -1.2,0.4 -1.2,1 z" />
        <path d="m 118.58769,78.798742 -3.94064,0.354374" />
        <path d="m 114.81715,77.026868 2.09789,-0.31185" />
        <path d="m 116.84417,76.686668 c -0.0236,0.01417 -0.0455,0.03167 -0.0709,0.04252 -0.009,0.0037 -0.0192,-0.0023 -0.0283,0 -0.0446,0.01116 -0.0985,0.03942 -0.14175,0.0567 -0.0485,0.01939 -0.0923,0.05438 -0.14175,0.07088 -0.006,0.002 -0.0883,0.02016 -0.0992,0.02835 -0.008,0.0063 -0.005,0.02362 -0.0142,0.02835 -0.0127,0.0063 -0.0286,-0.0028 -0.0425,0 -0.0407,0.0081 -0.0776,0.03881 -0.1134,0.0567 -0.19264,0.09632 -0.003,0.0044 -0.0992,0.02835 -0.11185,0.02796 -0.17024,0.06107 -0.29767,0.07088 -0.0821,0.0063 -0.1608,0.01231 -0.24098,0.02835 -0.0409,0.0082 -0.0863,-0.0069 -0.12757,0 -0.0147,0.0025 -0.0277,0.01206 -0.0425,0.01418 -0.0677,0.0097 -0.14638,-0.01656 -0.21262,0 -0.0102,0.0026 -0.0183,0.01083 -0.0283,0.01417 -0.0298,0.0099 -0.0695,-0.0099 -0.0992,0 -0.0182,0.0061 -0.0385,0.02229 -0.0567,0.02835 -0.0488,0.01627 -0.12458,-0.02276 -0.1701,0 -0.0562,0.02807 -0.14628,0.01417 -0.21263,0.01417 0.009,0.04252 0.0246,0.08417 0.0282,0.127574 0.002,0.02978 -0.0225,0.05575 -0.0284,0.08505 -0.005,0.02317 0.004,0.04757 0,0.07088 0.005,0.02884 -0.0234,0.04592 -0.0284,0.07088 -0.016,0.07996 -0.0228,0.161922 -0.0425,0.240975 -0.005,0.01834 0.005,0.03836 0,0.0567 -0.0111,0.04443 -0.0453,0.08179 -0.0567,0.127575 -0.007,0.027 -0.008,0.05849 -0.0142,0.08505 -0.008,0.03272 -0.037,0.06614 -0.0425,0.09922 0,0.09713 0.006,0.01862 -0.0142,0.09923 -0.0164,0.06542 0.0239,0.263993 0,0.31185 -0.0225,0.04492 -0.003,0.0674 -0.0142,0.1134 -0.0181,0.07234 -0.0498,0.2616 -0.0284,0.326024 0.0108,0.03232 0.0279,0.0559 0.0425,0.08505 0.004,0.0086 0.008,0.03659 0.0142,0.04252 0.0149,0.01494 0.0417,0.01341 0.0567,0.02835 0.007,0.0075 0.007,0.02088 0.0142,0.02835 0.0716,-0.01783 0.10143,0.110373 0.17022,0.12757 0.12519,0.0313 0.25723,0.06158 0.38273,0.09923 0.10806,0.03242 0.21607,0.05756 0.32602,0.08505 0.0334,0.0083 0.0652,0.02312 0.0992,0.02835 0.028,0.0043 0.0568,-0.0026 0.085,0 0.048,0.0044 0.0938,0.02356 0.14175,0.02835 0.0797,0.008 0.16152,0.0042 0.24098,0.01417 0.0193,0.0024 0.0373,0.01224 0.0567,0.01417 0.0936,0.0094 0.18994,-0.0094 0.2835,0 0.17882,0.01788 -0.0234,0.01418 0.12757,0.01418 0.0553,0 0.11537,-0.0061 0.1701,0 0.0194,0.0022 0.0373,0.01202 0.0567,0.01417 0.0886,0.0098 0.1809,-0.01105 0.26933,0 0.19282,0.0241 0.45067,0.03931 0.63787,-0.01417 0.1734,-0.04954 -0.12757,0.03307 0.0992,-0.04252 0.009,-0.003 0.0199,0.0042 0.0284,0 0.0489,-0.02448 0.0799,-0.08954 0.12757,-0.1134 0.0418,-0.02091 0.088,-0.06754 0.12758,-0.09922 0.0225,-0.01801 0.045,-0.04375 0.0709,-0.0567 0.0603,-0.03015 0.12598,-0.05007 0.18428,-0.08505 0.0338,-0.0203 0.0769,-0.05626 0.1134,-0.07088 0.0134,-0.0054 0.0456,-0.0031 0.0567,-0.01417 0.003,-0.0033 -0.003,-0.01083 0,-0.01418 0.0293,-0.02933 -0.001,0.04482 0.0284,-0.01417 0.002,-0.0042 -0.003,-0.01083 0,-0.01418 0.003,-0.0033 0.0108,0.0033 0.0142,0 0.007,-0.0067 -0.007,-0.02167 0,-0.02835 0.003,-0.0033 0.0108,0.0033 0.0142,0 0.0165,-0.01654 -0.002,-0.06851 0.0142,-0.08505 0.003,-0.0033 0.01,0.0021 0.0142,0 0.005,-0.0023 0.0425,-0.05267 0.0425,-0.0567" />
        <path d="m 114.62835,79.284309 c 0.0212,0.03112 0.0581,0.0324 0.0884,0.04972 0.0319,0.01822 0.0611,0.03884 0.0939,0.05524 0.0104,0.0052 0.0224,0.0065 0.0331,0.01105 0.066,0.02828 0.13494,0.0434 0.2044,0.06077 0.007,0.0017 0.0155,-9.4e-4 0.0221,0 0.0276,0.0039 0.055,0.0087 0.0829,0.01105 0.022,0.0018 0.0443,-0.0018 0.0663,0 0.0445,0.0037 0.0887,0.0103 0.13258,0.01657 0.0217,0.0031 0.0395,0.01125 0.0608,0.01657 0.005,0.0013 0.0111,-7.82e-4 0.0166,0 0.0351,0.005 0.0716,0.01375 0.10496,0.0221 0.008,0.002 0.0574,0.0021 0.0608,0.0055 0.001,0.0012 0.004,0.01051 0.006,0.01105 0.0144,0.0072 0.0393,-0.004 0.0552,0 0.0347,0.0087 0.0705,0.0042 0.10496,0.01105 0.0244,0.0049 0.0469,0.01586 0.0718,0.0221 0.0231,0.0058 0.0594,8.38e-4 0.0829,0.0055 0.011,0.0022 0.0221,0.0088 0.0331,0.01105 0.0157,0.0031 0.034,-0.0023 0.0497,0 0.0185,0.0026 0.0368,0.008 0.0552,0.01105 0.0161,0.0027 0.0338,-0.0032 0.0497,0 0.0145,0.0029 0.0291,0.008 0.0442,0.01105 0.009,0.0018 0.0185,-0.0013 0.0276,0 0.0296,0.0042 0.0592,0.0062 0.0884,0.01105 0.0291,0.0048 0.0854,-0.0084 0.11049,0 0.0451,0.01503 0.1323,0.0055 0.1823,0.0055 0.11048,0 0.22097,0 0.33146,0 0.0502,0 0.11132,-0.007 0.1602,0 0.0828,0.01183 0.17008,0.0055 0.25412,0.0055 0.0277,0 0.0613,-0.0054 0.0884,0 0.0414,0.0083 0.0843,0.0055 0.12706,0.0055 0.0121,0 0.0269,-0.0029 0.0387,0 0.046,0.0115 0.10236,0.0078 0.14916,0 0.026,-0.0043 0.0484,2.64e-4 0.0773,-0.0055 0.0316,-0.0063 0.0674,0.0032 0.0994,0 0.0208,-0.0021 0.0406,-0.0082 0.0608,-0.01105 0.0155,-0.0022 0.0344,0.0038 0.0497,0 0.0344,-0.0086 0.0701,-0.01339 0.10496,-0.0221 0.026,-0.0065 0.0572,8.94e-4 0.0829,-0.0055 0.0203,-0.0051 0.0388,-0.01343 0.0608,-0.01657 0.0146,-0.0021 0.0306,-9.3e-5 0.0442,-0.0055 0.006,-0.0025 0.0105,-0.0084 0.0166,-0.01105 0.0182,-0.0078 0.0417,-0.01113 0.0608,-0.01657 0.0384,-0.01098 -0.008,0.0011 0.0387,-0.01657 0.007,-0.0027 0.0153,-0.0021 0.0221,-0.0055 0.006,-0.0032 0.0211,-0.01885 0.0276,-0.0221 0.0205,-0.01026 0.04,-0.02276 0.0608,-0.03315 0.0257,-0.01284 0.0516,-0.0203 0.0773,-0.03315 0.0511,-0.02554 -0.0179,0.0034 0.0332,-0.0221 0.0182,-0.0091 0.037,-0.01852 0.0552,-0.02762 0.0235,-0.01176 0.0491,-0.01893 0.0718,-0.03315 0.004,-0.0028 0.007,-0.0082 0.011,-0.01105 0.0309,-0.02061 0.0668,-0.03891 0.0994,-0.05524 0.0294,-0.0147 0.0543,-0.03893 0.0829,-0.05524 0.12784,-0.07305 0.26322,-0.132501 0.38118,-0.22097 0.0319,-0.0239 0.0565,-0.05896 0.0884,-0.08286 0.009,-0.0064 0.0189,-0.01033 0.0276,-0.01657 0.0333,-0.0238 0.0631,-0.05588 0.0939,-0.08286 0.0193,-0.01687 0.0414,-0.02805 0.0608,-0.04419 0.012,-0.01 0.0206,-0.02377 0.0331,-0.03315 0.0108,-0.0081 0.0326,-0.01798 0.0442,-0.02762 0.0301,-0.02507 0.0642,-0.04639 0.0939,-0.07182 0.008,-0.0068 0.0138,-0.01585 0.0221,-0.0221 0.007,-0.0049 0.0157,-0.0059 0.0221,-0.01105 0.003,-0.0026 0.003,-0.0078 0.006,-0.01105 0.0155,-0.02065 0.0391,-0.03507 0.0552,-0.05524 0.004,-0.0052 0.006,-0.01188 0.011,-0.01657 0.009,-0.0094 0.0228,-0.0138 0.0331,-0.0221 0.0273,-0.02187 -0.007,0.0011 0.0221,-0.02762 0.0152,-0.01524 0.0341,-0.02854 0.0497,-0.04419 0.0105,-0.0105 0.0171,-0.02265 0.0276,-0.03315 0.003,-0.0029 0.008,-0.0031 0.0111,-0.0055 0.0236,-0.01772 0.0431,-0.04226 0.0663,-0.06077 0.0104,-0.0083 0.0229,-0.0136 0.0332,-0.0221 0.012,-0.01 0.0211,-0.02314 0.0331,-0.03315 0.005,-0.0042 0.0119,-0.0064 0.0166,-0.01105 0.007,-0.0065 0.0101,-0.01559 0.0166,-0.0221 0.005,-0.0047 0.0119,-0.0064 0.0166,-0.01105 0.005,-0.0047 0.007,-0.01139 0.011,-0.01657 0.0159,-0.01985 0.0342,-0.02905 0.0497,-0.04972 0.0118,-0.01576 0.0773,-0.05638 0.0773,-0.06629" />
        <path
          className="animated-photo-neck"
          d="m 118.21846,79.570273 c -0.67207,-0.06991 -1.62395,-0.188108 -2.31445,-0.111328 -0.12123,1.532996 -0.14844,3.860718 -0.14844,7.382813 0,10.1 0.89883,13.498822 4.29883,15.798822 0.5,0.40001 0.70078,2.30079 0.30078,4.30079 -1,5 -12.60039,16.49961 -20.900394,20.59961 -5.9,2.9 -16.199219,5.6 -15.199219,4 0.3,-0.4 -1.00039,-1.1004 -2.90039,-1.4004 -3.8,-0.69999 -7.999219,-3.69921 -9.699219,-6.69921 -0.713931,-1.42787 -3.180011,-14.0066 -3.773438,-18.97071 -0.01476,-0.009 -0.02309,-0.0149 -0.02734,-0.0195 l -0.002,-0.002 -0.002,-0.002 v -0.002 -0.002 h 0.002 l 0.002,-0.002 h 0.002 c 0.0048,-6.4e-4 0.01396,-0.002 0.02148,-0.002 -0.0046,-0.0386 -0.0093,-0.0756 -0.01367,-0.11328 -0.01625,0.004 -0.03297,0.008 -0.04687,0.004 -9.67e-4,-3.8e-4 -0.0049,-0.001 -0.0059,-0.002 -0.133967,-0.067 -0.214746,-0.25644 -0.339844,-0.33984 -0.186677,-0.12445 -0.379729,-0.21539 -0.566406,-0.33984 -0.07327,-0.0488 -0.102501,-0.0767 -0.111328,-0.0957 -3.75e-4,-10e-4 -0.0017,-0.005 -0.002,-0.006 -1.71e-4,-9.4e-4 8.2e-5,-0.005 0,-0.006 v -0.002 c 0.0028,-0.0347 0.05886,-0.0603 -0.113281,-0.23242 -0.0201,-0.0201 -0.04076,-0.0384 -0.0625,-0.0566 0.222853,0.74649 0.375156,1.53021 0.539062,2.49023 l 0.699219,3.80079 -6.5,2.90039 c -3.5,1.7 -9.19961,3.9 -12.59961,5 -6.3,2.1 -18.499609,8.90039 -17.599609,9.90039 0.3,0.2 1.198438,-0.002 1.898438,-0.60157 0.799999,-0.7 1.701953,-0.9 2.001953,-0.5 0.4,0.3 0.699218,0.20157 0.699218,-0.39843 0,-1.2 8.900782,-5.80078 13.300782,-6.80078 1.5,-0.4 2.998828,-1.09961 3.298828,-1.59961 0.3,-0.5 1.199609,-0.90039 2.099609,-0.90039 0.8,0 2.901563,-0.60039 4.601563,-1.4004 5.5,-2.4 7.799609,-2.59882 7.599609,-0.79882 -0.1,0.9 -3.91e-4,1.99843 0.09961,2.39843 0.1,0.5 0.3,1.1 0.5,1.5 0.4,1.7 2.498828,6.90079 3.298829,8.30079 0.5,0.8 2.799609,2.8 5.099609,4.5 3.7,2.6 5.102344,3.00039 10.402344,2.90039 7.3,0 8.8,-0.40079 15.500005,-3.80079 6.2,-3.2 18.79922,-15.09882 19.69922,-18.79882 0.7,-2.8 3.70078,-4.20157 5.30078,-2.60157 0.6,0.6 1.19961,0.6 1.59961,0 0.3,-0.5 -0.70117,-1.4996 -2.20117,-2.09961 -1.5,-0.7 -4,-3.09882 -5.5,-5.29882 -2.4,-3.800002 -2.69922,-5.100002 -2.69922,-13.500002 0,-4.577453 0.11497,-7.050936 0.46289,-8.271485 z"
        />
      </g>
      <g className="animated-photo-body">
        <path d="m 27.755708,267.23996 c 0,1.9 2.2,7.3 3,7.3 1,0 2.3,-5 1.5,-5.8 -0.3,-0.3 -0.5,0.1 -0.5,0.8 0,0.8 -0.8,0.3 -2,-1 -1.1,-1.3 -2,-1.9 -2,-1.3 z" />
        <path d="m 21.355708,249.64096 c 1.6,3 2.7,6 2.6,6.6 -0.2,0.7 0.1,1.3 0.6,1.3 0.5,0 0.9,-0.8 0.8,-1.8 -0.2,-2.2 -4.2,-9.8 -5.7,-10.7 -0.5,-0.4 0.2,1.7 1.7,4.6 z" />
        <path d="m 35.355708,238.73996 c -2,9.5 -2.5,13.1 -3,18.8 l -0.5,6.5 2,-6 c 1.1,-3.4 2,-9.4 2.2,-13.8 0.2,-8 0.1,-9.3 -0.7,-5.5 z" />
        <path d="m 172.25571,215.14096 c -4.9,1.3 -10.9,2.7 -13.2,3 -2.4,0.4 -4.3,1.1 -4.3,1.6 0,0.6 -0.7,0.8 -1.5,0.5 -0.8,-0.4 -1.7,-0.2 -2,0.4 -0.4,0.5 -1.1,0.7 -1.6,0.3 -0.5,-0.3 -2.6,0.6 -4.5,2.1 -3.5,2.6 -3.6,2.9 -2.9,7.4 0.4,2.5 0.8,6.6 1,9.1 0.2,2.5 1.3,8.1 2.4,12.6 1.6,6.1 1.9,8.8 1.2,10.7 -0.7,1.8 -0.7,2.7 0.2,3.1 0.7,0.3 0.6,0.5 -0.4,0.5 -1.8,0.1 -7.5,5.8 -6.6,6.7 1.2,1.2 9.6,-5 10.2,-7.6 0.3,-1.4 -0.6,-7.5 -2,-13.5 -1.4,-6.1 -2.8,-14.7 -3.1,-19.1 -0.8,-9.4 -2.2,-8.2 13.1,-11.5 5.5,-1.1 13.5,-3.2 17.8,-4.6 4.4,-1.3 8.5,-2.2 9.3,-1.9 1.2,0.5 1.3,4.9 1,27.3 -0.2,14.7 -0.7,28.1 -1.1,29.8 -0.5,2.1 -0.4,2.7 0.3,2 1.5,-1.5 2.1,-10.5 2.1,-32.8 l 0.1,-19.7 4.6,-3.3 4.6,-3.2 -5.9,-0.7 c -3.2,-0.4 -6.7,-0.9 -7.8,-1.2 -1.1,-0.2 -6,0.7 -11,2 z" />
        <path d="m 11.255708,210.83996 c -0.3,0.7 -1.3999997,6.8 -2.3999997,13.7 -1.7,11.4 -2.8,15.1 -7.5,26.3 -3,6.8 -0.59999997,3.8 3.1,-4.1 3.8,-7.9 4.4,-9.6 4.4,-12.2 0,-0.799 0.5,-3.799 1,-6.499 1.1999997,-6.5 2.5999997,-18.5 2.1999997,-18.5 -0.2,0 -0.6,0.6 -0.8,1.3 z" />
        <path d="m 12.055708,206.23996 c 2.3,2.6 12.8,7.4 17.8,8 4.2,0.6 3.9,-0.3 5.7,14.6 0.4,3.2 1.1,5.6 1.7,5.5 0.5,-0.2 0.8,-1.7 0.6,-3.3 -0.5,-4.1 -0.8,-7.4 -0.9,-11.1 -0.3,-4.9 -3.2,-7.2 -12.9,-10.3 -4.9,-1.6 -10,-3.4 -11.4,-4.1 -2.4,-1.3 -2.4,-1.3 -0.6,0.7 z" />
        <path d="m 6.4557083,198.54096 c -0.3,1.1 0.3,2.6 1.4,3.6 1,0.9 1.9,1.2 1.9,0.6 0,-0.6 -0.5,-1.4 -1.1,-1.7 -0.6,-0.4 -0.8,-1.3 -0.5,-2.1 0.3,-0.7 0.1,-1.6 -0.3,-1.9 -0.5,-0.2 -1.1,0.4 -1.4,1.5 z" />
        <path d="m 132.75571,194.33996 c 0,1.2 5.1,8.4 5.7,7.9 0.4,-0.5 -4.6,-8.7 -5.3,-8.7 -0.2,0.001 -0.4,0.301 -0.4,0.801 z" />
        <path d="m 137.45571,186.54096 c 1.1,6.1 2.3,9 1.7,4 -0.4,-2.5 -1,-5.2 -1.5,-6 -0.5,-0.9 -0.6,-0.2 -0.2,2 z" />
        <path d="m 187.95571,180.04096 c 0,1.1 0.3,2.9 0.8,4 1.1,2.5 1.1,-0.1 0,-3.5 -0.6,-2 -0.8,-2.1 -0.8,-0.5 z" />
        <path d="m 11.855708,179.04096 c 0,1.1 -0.4,3.1 -0.7,4.5 -0.5,1.9 -0.4,2.2 0.5,1.4 0.7,-0.6 1.1,-2.6 0.8,-4.5 -0.2,-1.9 -0.5,-2.5 -0.6,-1.4 z" />
        <path d="m 146.75571,177.23996 c 0,1 -0.3,2.9 -0.6,4.3 -0.4,1.801 -0.3,2.101 0.4,1.001 1.5,-2.5 2.3,-7 1.2,-7 -0.5,0 -1,0.8 -1,1.7 z" />
        <path d="m 13.755708,169.93996 c 0,1.4 0.5,2.6 1,2.6 0.6,0 1,-0.9 1,-1.9 0,-1.1 -0.4,-2.3 -1,-2.6 -0.6,-0.4 -1,0.5 -1,1.9 z" />
        <path d="m 149.35571,162.14096 c -0.4,2 -0.5,3.8 -0.3,4 0.3,0.3 0.8,-1.1 1.1,-3.2 0.4,-2 0.5,-3.8 0.3,-4 -0.3,-0.3 -0.8,1.1 -1.1,3.2 z" />
        <path d="m 24.955708,155.54096 c 0,1.9 0.2,2.7 0.5,1.7 0.2,-0.9 0.2,-2.5 0,-3.5 -0.3,-0.9 -0.5,-0.1 -0.5,1.8 z" />
        <path d="m 15.955708,155.54096 c 0,1.9 0.2,2.7 0.5,1.7 0.2,-0.9 0.2,-2.5 0,-3.5 -0.3,-0.9 -0.5,-0.1 -0.5,1.8 z" />
        <path d="m 16.755708,149.93996 c 0,0.8 0.5,1.8 1,2.1 0.6,0.3 1,-0.1 1,-0.9 0,-0.8 -0.4,-1.8 -1,-2.1 -0.5,-0.3 -1,0.1 -1,0.9 z" />
        <path d="m 177.55571,143.04096 c -0.3,0.3 0.9,2.1 2.7,3.9 3.4,3.6 4.8,7.7 6.9,19.6 1,5.5 1.6,7 2.1,5.6 1.6,-3.7 -1.4,-16.7 -5.1,-22.2 -3.7,-5.5 -5.8,-7.7 -6.6,-6.9 z" />
        <path d="m 20.355708,137.04096 c -2.2,3.3 -3.5,10.2 -1.8,9.1 0.7,-0.4 1.2,-1.7 1.2,-2.9 0,-1.2 0.7,-3.5 1.5,-5.1 2,-3.7 1.3,-4.5 -0.9,-1.1 z" />
        <path d="m 25.755708,130.54096 c -1.4,1 -2.2,2.2 -1.8,2.5 0.4,0.4 1.9,-0.5 3.5,-1.9 3.2,-3 2,-3.5 -1.7,-0.6 z" />
      </g>
    </svg>
  );
};

function getCenter(el: SVGGraphicsElement) {
  if (el.tagName === 'ellipse') {
    const cx = (el as SVGEllipseElement).cx.baseVal.value;
    const cy = (el as SVGEllipseElement).cy.baseVal.value;
    return { cx, cy };
  } else {
    const bbox = el.getBBox();
    return { cx: bbox.x + bbox.width / 2, cy: bbox.y + bbox.height / 2 };
  }
}

const rotateElement = (
  ref: React.RefObject<SVGGraphicsElement | null>,
  mx: MouseEvent['clientX'],
  maxAngle: number,
) => {
  const element = ref.current;
  if (!element) return;
  const { cx, cy } = getCenter(element);
  const rect = element.getBoundingClientRect();
  const dx = mx - (rect.left + rect.width / 2);

  // max angle of rotation
  const limited = Math.max(
    -maxAngle,
    Math.min(maxAngle, (dx / (window.innerWidth / 2)) * maxAngle),
  );

  element.setAttribute('transform', `rotate(${limited} ${cx} ${cy})`);
};

const moveEye = (
  ref: React.RefObject<SVGEllipseElement | null>,
  mx: MouseEvent['clientX'],
  my: MouseEvent['clientY'],
) => {
  const eye = ref.current;
  if (!eye) return;
  const rect = eye.getBoundingClientRect();
  const dx = mx - (rect.left + rect.width / 2);
  const dy = my - (rect.top + rect.height / 2);

  const maxMove = 1.5; // px eye move
  const moveX = Math.max(-maxMove, Math.min(maxMove, (dx / window.innerWidth) * maxMove));
  const moveY = Math.max(-maxMove, Math.min(maxMove, (dy / window.innerHeight) * maxMove));

  eye.setAttribute('transform', `translate(${moveX} ${moveY})`);
};

const setupMoveParts = (
  brows: React.RefObject<SVGPathElement | null>[],
  eyes: React.RefObject<SVGEllipseElement | null>[],
  headRef: React.RefObject<SVGGElement | null>,
  neckLineRef: React.RefObject<SVGPathElement | null>,
) => {
  const onMove = (ev: MouseEvent) => {
    requestAnimationFrame(() => {
      const mx = ev.clientX;
      const my = ev.clientY;

      brows.forEach((browRef) => {
        rotateElement(browRef, mx, 7);
      });

      eyes.forEach((eyeRef) => {
        moveEye(eyeRef, mx, my);
      });

      rotateElement(headRef, mx, 0.5);
      rotateElement(neckLineRef, mx, 10);
    });
  };

  window.addEventListener('mousemove', onMove);
  return () => window.removeEventListener('mousemove', onMove);
};

const setupFastMouseOpacityToggle = (
  eyelidRef: React.RefObject<SVGPathElement | null>,
  eyeRef: React.RefObject<SVGPathElement | null>,
  speedThreshold = 15,
  restoreDelay = 300,
) => {
  let lastX = 0;
  let lastY = 0;
  let lastTime = Date.now();
  let isVisible = false;
  let restoreTimeout: number | null = null;

  function onMove(ev: MouseEvent) {
    const eyeLidElement = eyelidRef.current;
    const eyeElement = eyeRef.current;
    if (!eyeLidElement || !eyeElement) return;
    const now = Date.now();
    const dt = now - lastTime;

    const dx = ev.clientX - lastX;
    const dy = ev.clientY - lastY;

    const distance = Math.sqrt(dx * dx + dy * dy);
    const speed = distance / dt; // px per ms

    const blinkEyelid = () => {
      eyeElement.style.opacity = '0';
      eyeLidElement.style.opacity = '1';
      isVisible = true;

      if (restoreTimeout) clearTimeout(restoreTimeout);
      restoreTimeout = window.setTimeout(() => {
        eyeElement.style.opacity = '1';
        eyeLidElement.style.opacity = '0';
        isVisible = false;
      }, restoreDelay);
    };

    const keepEyelidState = () => restoreTimeout && clearTimeout(restoreTimeout);

    if (speed > speedThreshold && !isVisible) {
      blinkEyelid();
    }

    if (speed > speedThreshold && isVisible) {
      keepEyelidState();
    }

    if (speed < speedThreshold && isVisible) {
      blinkEyelid();
    }

    lastX = ev.clientX;
    lastY = ev.clientY;
    lastTime = now;
  }

  // Delay attaching the listener in case the user has already moved the mouse far into the viewport
  setTimeout(() => window.addEventListener('mousemove', onMove), 1000);

  return () => window.removeEventListener('mousemove', onMove);
};
